<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabaseUrl = "https://atinpqtedmrfrtdlkpkd.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF0aW5wcXRlZG1yZnJ0ZGxrcGtkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwOTU0NjcsImV4cCI6MjA4NDY3MTQ2N30.Oor6oUuuIxa0pSxIRuwEw7ZzGYM4hOGfywHqv2FaBHg）";

  const supabaseClient = supabase.createClient(
    supabaseUrl,
    supabaseKey
  );

  async function loadQuiz() {
    console.log("loadQuiz start");

    const { data, error } = await supabaseClient
      .from("quizzes")
      .select("*")
      .limit(1)
      .single();

    console.log("data:", data);
    console.log("error:", error);

    if (error) {
      document.getElementById("song").textContent = "エラー発生";
      document.getElementById("lyrics").textContent = error.message;
      return;
    }

    document.getElementById("song").textContent = data.song_title;
    document.getElementById("lyrics").textContent = data.lyrics;
    document.getElementById("c1").textContent = data.choice_1;
    document.getElementById("c2").textContent = data.choice_2;
    document.getElementById("c3").textContent = data.choice_3;
    document.getElementById("c4").textContent = data.choice_4;
  }

  loadQuiz();
</script>
